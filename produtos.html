<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>F.k_Diversos</title>
  <link rel="stylesheet" href="estilos/produtos.css">
  <link rel="stylesheet" href="estilos/style.css">
  <link rel="stylesheet" href="estilos/mediaquery.css">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600 display=swap"rel="stylesheet"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
 
</head>
<body>
  <header>
    <nav>
    <div class="logo" id="logo"><a href="index.html"><img src="imagens/logo.png" alt=""></a><a href="index.html"></a></div>
    <div class="hamburger" id="hamburger" onclick="toggleMenu()">
      <div></div>
      <div></div>
      <div></div>
    </div>
   <ul class="menu" id="mainMenu">
  <li class="menu-item"><a href="index.html">Home</a></li>
  <li class="menu-item"><a href="produtos.html">Produtos</a></li>
  <li class="menu-item"><a href="#">Sobre</a></li>
  <li class="menu-item"><a href="#">Novidades</a></li>
</ul>
    <div class="bolsa-de-compras">
      <!-- CARRINHO -->
    <div class="carrinho" onclick="abrirCarrinho()">ðŸ›’ <span id="countCarrinho">0</span></div>
    <div class="carrinho-modal" id="carrinhoModal">
    <h2>Carrinho <button onclick="fecharCarrinho()">Fechar âœ•</button></h2>
    <div id="listaCarrinho"></div>
    <div class="carrinho-total" id="totalCarrinho">Total: 0 kz</div>
    <button class="carrinho-finalizar" onclick="finalizarCompra()">Finalizar Compra</button>
    </div>
    </div>
  </nav>
  </header>

  <main>
    <div class="filtros">
  <button class="active" onclick="filtrar('Todos')">Todos</button>
  <button onclick="filtrar('Roupas')">Roupas</button>
  <button onclick="filtrar('AcessÃ³rios')">AcessÃ³rios</button>
  <button onclick="filtrar('EletrÃ³nicos')">EletrÃ´nicos</button>
</div>

<section class="produtos" id="listaProdutos"></section>

     <!-- ADMIN -->
<div class="admin-btn" onclick="abrirAdmin()">ADMIN</div>
<div class="overlay" id="overlay" onclick="fecharTodos()"></div>

<div class="admin-panel" id="adminPanel">
  <button onclick="fecharTodos()" style="background:#dc2626;margin-bottom:15px;font-size:1.1rem">Fechar âœ•</button>

  <div id="loginArea">
    <h2>Login Admin</h2>
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="logar()">Entrar</button>
  </div>

  <div id="painelArea" style="display:none">
    <h2>Painel Vendas</h2>
    <div class="dashboard">
      Total de pedidos
      <span id="totalPedidos">0</span>
    </div>

    <input type="text" id="nomeProduto" placeholder="Nome do produto">
    <input type="number" id="precoProduto" placeholder="PreÃ§o">
    <input type="file" id="imagemProduto" accept="image/*">
    <img id="preview" class="preview-img">
    <select id="categoriaProduto">
      <option>Roupas</option>
      <option>AcessÃ³rios</option>
      <option>EletrÃ³nicos</option>
    </select>
    <button onclick="adicionarProduto()">Adicionar Produto</button>

    <h3 style="margin-top:15px">Produtos cadastrados</h3>
    <div id="listaAdmin"></div>
  </div>
</div>

  </main>

 <footer>
      <div class="hero">
        <div class="header">
          <h2>
            Not sure of the <br />
            right plan for you?
          </h2>
          <p>
            We have a great team here at SaturnChat<br />
            waiting to help you with anything.
          </p>
        </div>
        <button class="box-btn">
          Let's Chat
          <span class="material-symbols-outlined"> north_east </span>
        </button>
        <img src="imagens/bg.png" class="bg" />
      </div>
      <div class="content">
        <img class="logo" src="imagens/logo.svg" />

        <nav>
          <ul>
            <li><h3>Developers</h3></li>
            <li><a>Docs</a></li>
            <li><a>Tutorials</a></li>
            <li><a>Examples</a></li>
            <li><a>API</a></li>
          </ul>
          <ul>
            <li><h3>Company</h3></li>
            <li><a>About</a></li>
            <li><a>Careers</a></li>
            <li><a>Pricing</a></li>
            <li><a>Legal</a></li>
          </ul>
          <ul>
            <li><h3>Social</h3></li>
            <li><a>Tiktok</a></li>
            <li><a>Instagram</a></li>
            <li><a>Facebbook</a></li>
          </ul>
        </nav>
        <button class="box-btn support-btn">
          Contact Sales
          <span class="material-symbols-outlined"> north_east </span>
        </button>
      </div>
    </footer>

  <script>
    function toggleMenu() {
      const menu = document.getElementById('mainMenu');
      const hamburger = document.getElementById('hamburger');
      menu.classList.toggle('show');
      hamburger.classList.toggle('active');
    }

    function toggleSubmenu(event) {
      const menuItem = event.target.closest('.menu-item');
      if (window.innerWidth <= 768) {
        event.preventDefault();
        menuItem.classList.toggle('active');
      }
    }
  </script>
  <script>
const senhaSistema="1234";
let produtos=JSON.parse(localStorage.getItem('produtos'))||[];
let carrinho=JSON.parse(localStorage.getItem('carrinho'))||[];
let imagemBase64="";

// ADMIN
function abrirAdmin(){document.getElementById('adminPanel').classList.add('show');document.getElementById('overlay').classList.add('show');document.body.style.overflow='hidden'}
function fecharAdmin(){document.getElementById('adminPanel').classList.remove('show');document.getElementById('overlay').classList.remove('show');document.body.style.overflow='auto'}
function abrirCarrinho(){document.getElementById('carrinhoModal').classList.add('show');document.getElementById('overlay').classList.add('show');document.body.style.overflow='hidden';renderCarrinho()}
function fecharCarrinho(){document.getElementById('carrinhoModal').classList.remove('show');document.getElementById('overlay').classList.remove('show');document.body.style.overflow='auto'}
function fecharTodos(){fecharAdmin();fecharCarrinho()}

// LOGIN ADMIN
function logar(){const senha=document.getElementById('senha').value;if(senha===senhaSistema){loginArea.style.display='none';painelArea.style.display='block';carregarAdmin()}else alert('Senha incorreta')}

// UPLOAD IMAGEM
imagemProduto.addEventListener('change',function(){const file=this.files[0];if(!file)return;const reader=new FileReader();reader.onload=e=>{imagemBase64=e.target.result;preview.src=imagemBase64;preview.style.display='block'};reader.readAsDataURL(file)})

// ADICIONAR PRODUTO
function adicionarProduto(){const nome=nomeProduto.value;const preco=precoProduto.value;const categoria=categoriaProduto.value;if(!nome||!preco||!imagemBase64){alert('Preencha tudo');return}produtos.push({nome,preco,imagem:imagemBase64,categoria});localStorage.setItem('produtos',JSON.stringify(produtos));renderProdutos();carregarAdmin()}

// RENDER PRODUTOS
function renderProdutos(filtro='Todos'){listaProdutos.innerHTML='';produtos.forEach((p,i)=>{if(filtro==='Todos'||p.categoria===filtro)listaProdutos.innerHTML+=`<div class="card"><img src="${p.imagem}"><h3>${p.nome}</h3><span>${p.preco} kz</span><button onclick="adicionarCarrinho(${i})">Comprar</button></div>`});atualizarFiltros(filtro)}
function filtrar(categoria){renderProdutos(categoria)}
function atualizarFiltros(categoria){document.querySelectorAll('.filtros button').forEach(btn=>btn.classList.remove('active'));document.querySelector(`.filtros button[onclick="filtrar('${categoria}')"]`)?.classList.add('active')}

// CARRINHO
function adicionarCarrinho(i){
    const p = {...produtos[i], quantidade:1};
    carrinho.push(p);
    localStorage.setItem('carrinho',JSON.stringify(carrinho));
    atualizarCarrinho();
    alert(produtos[i].nome+' adicionado ao carrinho!')
}

function renderCarrinho(){
    listaCarrinho.innerHTML='';
    let total=0;
    carrinho.forEach((p,i)=>{
        listaCarrinho.innerHTML+=`
        <div class="carrinho-item">
            <span>${p.nome} - ${p.preco} kz</span>
            <input type="number" value="${p.quantidade}" min="1" onchange="alterarQuantidade(${i},this.value)">
            <button onclick="removerCarrinho(${i})">X</button>
        </div>`;
        total+=parseFloat(p.preco)*p.quantidade;
    });
    totalCarrinho.textContent='Total: '+total+' kz';
}

function alterarQuantidade(i,val){
    val = parseInt(val);
    if(val<1) val=1;
    carrinho[i].quantidade=val;
    localStorage.setItem('carrinho',JSON.stringify(carrinho));
    renderCarrinho();
}

function removerCarrinho(i){carrinho.splice(i,1);localStorage.setItem('carrinho',JSON.stringify(carrinho));renderCarrinho();atualizarCarrinho()}
function atualizarCarrinho(){countCarrinho.textContent=carrinho.length}

// FINALIZAR COMPRA
function finalizarCompra(){
    if(carrinho.length===0){alert('Carrinho vazio');return}
    let msg='OlÃ¡! Quero comprar os seguintes produtos:\n';
    let total=0;
    carrinho.forEach(p=>{
        msg+=`- ${p.nome} - ${p.preco} kz x ${p.quantidade}\n`;
        total+=parseFloat(p.preco)*p.quantidade;
    });
    msg+=`Total: ${total} kz`;
    window.open(`https://wa.me/929764090?text=${encodeURIComponent(msg)}`);
    carrinho=[];localStorage.setItem('carrinho',JSON.stringify(carrinho));
    renderCarrinho();atualizarCarrinho();fecharCarrinho()
}

// ADMIN
function carregarAdmin(){listaAdmin.innerHTML='';produtos.forEach((p,i)=>{listaAdmin.innerHTML+=`<div class="produto-admin">${p.nome}<button onclick="apagar(${i})">Apagar</button></div>`})}
function apagar(i){produtos.splice(i,1);localStorage.setItem('produtos',JSON.stringify(produtos));renderProdutos();carregarAdmin()}

// INIT
renderProdutos();atualizarCarrinho()
</script>



</body>
</html>
