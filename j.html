<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F.K Diversos</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:Poppins}
  body{background:#f4f6f9;overflow-x:hidden}

  header{background:#0f172a;color:#fff;padding:15px 20px;position:sticky;top:0;z-index:1000}
  nav{display:flex;justify-content:space-between;align-items:center}
  .logo{font-weight:600;font-size:20px}

  /* GRID RESPONSIVO PRODUTOS */
  .produtos{
    padding:30px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;
  }

  .card{
    background:#fff;border-radius:14px;padding:15px;
    box-shadow:0 10px 20px rgba(0,0,0,.05);
    transition:.3s;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }
  .card:hover{transform:translateY(-5px)}
  .card img{width:100%;height:180px;object-fit:cover;border-radius:10px}
  .card h3{margin:10px 0;font-size:1.1rem}
  .card span{color:#16a34a;font-weight:600;font-size:1rem}
  .card button{width:100%;margin-top:10px;padding:10px;border:none;border-radius:8px;background:#0f172a;color:#fff;cursor:pointer;font-size:1rem}

  /* BOTÃO ADMIN */
  .admin-btn{position:fixed;bottom:20px;right:20px;background:#0f172a;color:#fff;padding:14px 18px;border-radius:50px;cursor:pointer;box-shadow:0 10px 20px rgba(0,0,0,.2);z-index:2000}

  /* PAINEL ADMIN */
  .admin-panel{
    position:fixed;right:-100%;top:0;width:90%;max-width:400px;height:100%;background:#fff;
    box-shadow:-5px 0 25px rgba(0,0,0,.1);padding:20px;
    transition:right .45s cubic-bezier(.4,0,.2,1);overflow:auto;z-index:3000;
    border-radius:0 0 0 10px;
  }
  .admin-panel.show{right:0}

  .overlay{
    position:fixed;inset:0;background:rgba(0,0,0,.4);
    opacity:0;pointer-events:none;transition:.3s;z-index:2500
  }
  .overlay.show{opacity:1;pointer-events:auto}

  .admin-panel h2{margin-bottom:15px;font-size:1.4rem;text-align:center}
  .admin-panel input,.admin-panel select{
    width:100%;margin-bottom:12px;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:1rem
  }
  .admin-panel button{
    width:100%;padding:14px;background:#0f172a;color:#fff;border:none;border-radius:8px;cursor:pointer;margin-top:8px;font-size:1rem
  }
  .preview-img{width:100%;height:180px;object-fit:cover;border-radius:10px;margin-top:8px;display:none}

  .produto-admin{background:#f1f5f9;padding:10px;border-radius:8px;margin-top:10px;display:flex;justify-content:space-between;align-items:center;font-size:1rem}
  .produto-admin button{background:#dc2626;margin-top:0;padding:6px 10px;border:none;color:#fff;border-radius:5px;cursor:pointer}
  .dashboard{background:#0f172a;color:#fff;padding:15px;border-radius:10px;margin-bottom:15px}
  .dashboard span{display:block;font-size:22px;font-weight:600}

  /* RESPONSIVO */
  @media(max-width:1024px){
    .produtos{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
    .card img{height:160px}
  }
  @media(max-width:768px){
    .produtos{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));padding:15px;gap:15px}
    .card img{height:140px}
    .admin-panel{width:95%;max-width:none;border-radius:0;right:-100%;}
    .admin-panel h2{font-size:1.2rem}
    .admin-panel input,.admin-panel select,.admin-panel button{font-size:1rem;padding:12px}
  }
  @media(max-width:480px){
    .card img{height:120px}
    .card h3{font-size:.95rem}
    .card span{font-size:.9rem}
    .card button{font-size:.9rem;padding:8px}
    .admin-panel input,.admin-panel select,.admin-panel button{font-size:.95rem;padding:10px}
  }
</style>
</head>
<body>

<header>
  <nav>
    <div class="logo">F.K Diversos</div>
  </nav>
</header>

<section class="produtos" id="listaProdutos"></section>

<div class="admin-btn" onclick="abrirAdmin()">ADMIN</div>
<div class="overlay" id="overlay" onclick="fecharAdmin()"></div>

<div class="admin-panel" id="adminPanel">
  <button onclick="fecharAdmin()" style="background:#dc2626;margin-bottom:15px;font-size:1.1rem">Fechar ✕</button>

  <div id="loginArea">
    <h2>Login Admin</h2>
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="logar()">Entrar</button>
  </div>

  <div id="painelArea" style="display:none">
    <h2>Painel Vendas</h2>

    <div class="dashboard">
      Total de pedidos
      <span id="totalPedidos">0</span>
    </div>

    <input type="text" id="nomeProduto" placeholder="Nome do produto">
    <input type="number" id="precoProduto" placeholder="Preço">

    <input type="file" id="imagemProduto" accept="image/*">
    <img id="preview" class="preview-img">

    <select id="categoriaProduto">
      <option>Roupas</option>
      <option>Acessórios</option>
      <option>Eletrónicos</option>
    </select>

    <button onclick="adicionarProduto()">Adicionar Produto</button>

    <h3 style="margin-top:15px">Pedidos recebidos</h3>
    <div id="listaPedidos"></div>

    <h3 style="margin-top:15px">Produtos cadastrados</h3>
    <div id="listaAdmin"></div>
  </div>
</div>

<script>
const senhaSistema = "1234";
let produtos = JSON.parse(localStorage.getItem('produtos')) || [];
let pedidos = JSON.parse(localStorage.getItem('pedidos')) || [];
let imagemBase64="";

function abrirAdmin(){
  document.getElementById('adminPanel').classList.add('show')
  document.getElementById('overlay').classList.add('show')
  document.body.style.overflow='hidden'
}

function fecharAdmin(){
  document.getElementById('adminPanel').classList.remove('show')
  document.getElementById('overlay').classList.remove('show')
  document.body.style.overflow='auto'
}

function logar(){
  const senha=document.getElementById('senha').value
  if(senha===senhaSistema){
    loginArea.style.display='none'
    painelArea.style.display='block'
    carregarAdmin()
    carregarPedidos()
  }else alert('Senha incorreta')
}

imagemProduto.addEventListener('change',function(){
  const file=this.files[0]
  if(!file)return
  const reader=new FileReader()
  reader.onload=e=>{
    imagemBase64=e.target.result
    preview.src=imagemBase64
    preview.style.display='block'
  }
  reader.readAsDataURL(file)
})

function adicionarProduto(){
  const nome=nomeProduto.value
  const preco=precoProduto.value
  const categoria=categoriaProduto.value
  if(!nome||!preco||!imagemBase64){alert('Preencha tudo');return}
  produtos.push({nome,preco,imagem:imagemBase64,categoria})
  localStorage.setItem('produtos',JSON.stringify(produtos))
  renderProdutos();carregarAdmin()
}

function renderProdutos(){
  listaProdutos.innerHTML=''
  produtos.forEach((p,i)=>{
    listaProdutos.innerHTML+=`
      <div class="card">
        <img src="${p.imagem}">
        <h3>${p.nome}</h3>
        <span>${p.preco} kz</span>
        <button onclick="comprar(${i})">Comprar</button>
      </div>`
  })
}

function comprar(i){
  const p=produtos[i]
  pedidos.push(p)
  localStorage.setItem('pedidos',JSON.stringify(pedidos))
  carregarPedidos()
  const msg=`Olá quero comprar ${p.nome} - ${p.preco} kz`
  window.open(`https://wa.me/929764090?text=${encodeURIComponent(msg)}`)
}

function carregarAdmin(){
  listaAdmin.innerHTML=''
  produtos.forEach((p,i)=>{
    listaAdmin.innerHTML+=`<div class="produto-admin">${p.nome}<button onclick="apagar(${i})">Apagar</button></div>`
  })
}

function apagar(i){
  produtos.splice(i,1)
  localStorage.setItem('produtos',JSON.stringify(produtos))
  renderProdutos();carregarAdmin()
}

function carregarPedidos(){
  listaPedidos.innerHTML=''
  totalPedidos.textContent=pedidos.length
  pedidos.forEach(p=>{
    listaPedidos.innerHTML+=`<div class="produto-admin">${p.nome} - ${p.preco} kz</div>`
  })
}

renderProdutos();carregarPedidos()
</script>

</body>
</html>
